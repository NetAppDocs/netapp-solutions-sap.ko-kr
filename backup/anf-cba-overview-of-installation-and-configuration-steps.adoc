---
sidebar: sidebar 
permalink: backup/anf-cba-overview-of-installation-and-configuration-steps.html 
keywords: bluexp, hana host, backup user, hana system database 
summary: 이 섹션에서는 이 솔루션의 모든 구성 요소를 설치하고 구성하는 방법을 설명합니다. 
---
= 설치 및 구성 단계 개요
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./../media/


link:anf-cba-cloud-backup-for-applications-architecture.html["이전: Cloud Backup for Applications 아키텍처"]

[role="lead"]
필요한 설치 및 구성 단계는 세 가지 영역으로 나눌 수 있습니다.

* NetApp BlueXP 구성 요소의 설치 및 구성
+
데이터 보호 솔루션의 초기 설정 중에 한 번 수행해야 합니다.

* HANA 호스트 및 데이터베이스 준비 단계
+
각 HANA 데이터베이스에 대해 수행해야 하며, CBA로 보호되어야 합니다.

* Cloud Backup for Applications의 구성 단계
+
각 HANA 데이터베이스에 대해 수행해야 하며, CBA로 보호되어야 합니다.





== NetApp BlueXP 구성 요소의 설치 및 구성

NetApp BlueXP 구성 요소의 설치 및 구성은 에 설명되어 있습니다 https://docs.netapp.com/us-en/cloud-manager-backup-restore/concept-protect-cloud-app-data-to-cloud.html["클라우드 네이티브 애플리케이션 데이터 보호 | NetApp 문서"^].

. BlueXP에 등록하고 NetApp 계정을 설정하십시오.
. Azure VNET에 BlueXP 커넥터를 배포합니다.
. BlueXP에서 Azure NetApp Files의 작업 환경을 만듭니다.


image:anf-cba-image5.png["이 이미지는 이 섹션에 설명된 솔루션의 아키텍처를 보여 줍니다."]



== HANA 호스트 및 데이터베이스 준비 단계

. HANA 호스트에 Java 11 설치. Java 11(64비트) Oracle Java 또는 OpenJDK는 HANA 데이터베이스 호스트에 설치해야 합니다.
. 에 설명된 대로 HANA 호스트에 CBA HANA 플러그인을 구축합니다 link:https://docs.netapp.com/us-en/cloud-manager-backup-restore/task-deploy-snapcenter-plugin-for-sap-hana.html["SAP HANA용 Cloud Backup for Applications 플러그인 | NetApp 문서"].
. 다음 장에 설명된 대로 HANA 시스템 데이터베이스에서 백업 사용자를 생성합니다.




== Cloud Backup for Applications의 구성 단계

. HANA 호스트를 Cloud Backup for Applications에 추가합니다.
+
.. HANA 사용자 저장소 키 구성
.. 스토리지 설치 공간 구성:


. HANA 시스템에 대한 백업 정책을 생성하고 할당합니다.
+
.. 스냅샷 기반 백업 작업:
.. 파일 기반 백업 작업


. 비 데이터 볼륨 백업 작업을 구성합니다.
+
.. 스토리지 설치 공간 구성:
.. 백업 정책을 생성하고 할당합니다.


. 글로벌 비 데이터 볼륨 백업 작업을 구성합니다.
+
.. 시스템 세부 정보 구성
.. 스토리지 설치 공간 구성:
.. 백업 정책을 생성하고 할당합니다.




다음 장에서는 Cloud Backup for Applications에 대한 구성 단계에 대해 자세히 설명합니다.



== HANA 시스템 데이터베이스에서 백업 사용자를 생성합니다

HANA 데이터베이스에 전용 데이터베이스 사용자를 구성하여 CBA를 통해 백업 작업을 실행하는 것이 좋습니다. 두 번째 단계에서는 이 백업 사용자에 대해 SAP HANA 사용자 저장소 키가 구성되고 이 사용자 저장소 키는 Cloud Backup for Applications SAP HANA 플러그인 구성에 사용됩니다. 다음 그림에서는 백업 사용자를 생성하는 데 사용할 수 있는 SAP HANA Studio를 보여 줍니다.

필요한 권한은 다음과 같습니다.

* 백업 관리자
* 카탈로그 읽기
* 데이터베이스 백업 관리자
* 데이터베이스 복구 운영자


SAP HANA MDC 시스템의 경우 시스템 데이터베이스와 테넌트 데이터베이스에 대한 모든 백업 명령이 시스템 데이터베이스를 사용하여 실행되므로 시스템 데이터베이스에 사용자를 생성해야 합니다.

image:anf-cba-image10.png["이 스크린샷은 시스템 데이터베이스에서 사용자를 생성할 위치를 보여 줍니다."]



== HANA 시스템을 Cloud Backup for Application에 추가합니다

. BlueXP에서 * 보호 * > * 백업 및 복구 * > * 응용 프로그램 * 을 선택합니다
+
image:anf-cba-image11.png["이 스크린샷은 표시된 응용 프로그램의 올바른 경로와 함께 블루XP Canvas를 보여줍니다."]

. 다음 스크린샷은 첫 번째 HANA 시스템을 추가할 때의 워크플로우를 보여 줍니다. 이미 Cloud Backup for Applications에 추가된 시스템이 있는 경우 초기 화면은 추가 HANA 시스템을 추가하기 위한 * 시스템 추가 * 버튼이 있는 대시보드 보기입니다. 이 경우 5단계가 첫 번째 단계입니다. 응용 프로그램 검색 * 을 클릭합니다.
+
image:anf-cba-image12.png["이 스크린샷은 첫 번째 HANA 시스템을 추가할 때의 워크플로우를 보여 줍니다."]

. Cloud Native * 를 클릭합니다.
+
image:anf-cba-image13.png["이 스크린샷은 하이브리드 및 클라우드 네이티브 선택 페이지를 보여 줍니다."]

. SAP HANA * 를 클릭합니다.
+
image:anf-cba-image14.png["이 스크린샷은 하이브리드 및 클라우드 네이티브 선택 페이지를 보여 줍니다."]

. 시스템 세부 정보 화면에서 HANA 단일 컨테이너 또는 멀티 테넌트 데이터베이스 컨테이너 시스템 유형을 선택합니다. HANA 시스템의 SID를 제공하고 시스템 이름으로 자유 텍스트를 입력합니다.
+
다음 스크린샷에서는 SAP HANA 시스템 PR1의 구성을 보여 줍니다.

+
image:anf-cba-image15.png["이 스크린샷은 SAP HANA 시스템 PR1의 구성을 보여 줍니다."]

. Add Plug-in host * 를 클릭하여 HANA 데이터베이스 호스트를 추가합니다. 일반적으로 호스트 이름이 사용됩니다. IP 주소도 작동합니다. 포트 `8145` 은 HANA 데이터베이스 호스트에 설치된 HANA 플러그인의 기본 포트입니다. 플러그인 설치 중에 변경한 사항이 없으면 기본 포트가 유효합니다.
+

NOTE: HANA 다중 호스트 시스템의 경우 시스템 데이터베이스가 실행 중인 호스트만 추가하면 됩니다.

+
image:anf-cba-image16.png["이 스크린샷은 Add-Plug-in Host selection(플러그인 호스트 선택) 화면을 보여 줍니다."]

. HANA 데이터베이스 사용자 저장소 키를 추가하려면 * 사용자 저장소 키 추가 * 를 클릭합니다.
+
HANA 데이터베이스의 사용자 저장소 키를 구성하기 위한 정보를 입력합니다. 키 이름으로 원하는 이름을 지정할 수 있습니다. 시스템 세부 정보에는 hdbsql 클라이언트를 사용하여 시스템 데이터베이스와 통신할 IP 주소 및 포트가 포함됩니다. SAP HANA MDC 시스템의 경우 포트를 참조하십시오 `3<instanceNo>13` 는 SQL에서 시스템 데이터베이스에 액세스하기 위한 표준 포트입니다.

+
이전에 구성된 시스템 데이터베이스에 있는 데이터베이스 사용자의 사용자 이름과 암호를 입력해야 합니다. Cloud Backup for Applications는 이 정보를 사용하여 사용자 저장소 키를 자동으로 생성하고 이 키를 사용하여 HANA 데이터베이스와 통신합니다.

+
image:anf-cba-image17.png["이 스크린샷은 사용자 저장소 키 추가 선택 화면을 보여 줍니다."]

. HANA 호스트에서 다음 명령을 실행하여 키가 작동하는지 확인할 수 있습니다.
+
....
pr1adm@vm-pr1:/usr/sap/PR1/HDB01> hdbuserstore list
DATA FILE       : /usr/sap/PR1/pr1adm/.hdb/vm-pr1/SSFS_HDB.DAT
KEY FILE        : /usr/sap/PR1/pr1adm/.hdb/vm-pr1/SSFS_HDB.KEY
KEY PR1KEY
  ENV : 10.0.1.20:30113
  USER: SNAPSHOT
KEY PR1SAPDBCTRL
  ENV : vm-pr1:30113
  USER: SAPDBCTRL
pr1adm@vm-pr1:/usr/sap/PR1/HDB01> hdbsql -U PR1KEY
Welcome to the SAP HANA Database interactive terminal.
Type:  \h for help with commands
       \q to quit
hdbsql SYSTEMDB=>
....
. 다음 * 을 클릭하여 시스템 세부 정보 구성을 완료합니다.
+
image:anf-cba-image18.png["이 스크린샷은 System Details(시스템 세부 정보) 화면을 보여 줍니다."]

. HANA 데이터베이스의 스토리지 설치 공간을 구성하려면 * 스토리지 추가 * 를 클릭합니다.
+
image:anf-cba-image19.png["이 스크린샷은 Storage Footprint 화면의 Add Storage 버튼을 보여줍니다."]

. HANA 시스템의 스토리지 볼륨에 대한 정보를 입력합니다.
. HANA 시스템의 ANF 볼륨에 사용되는 작업 환경과 NetApp 계정을 선택합니다. HANA 시스템의 데이터 볼륨을 선택합니다. 이 예에서는 입니다 `PR1_data_mnt00001`.
+

NOTE: SAP HANA 다중 호스트 시스템의 경우 시스템에 속한 모든 HANA 호스트의 데이터 볼륨을 선택해야 합니다.

+
image:anf-cba-image20.png["이 스크린샷은 Add Storage Footprint selection(스토리지 설치 공간 추가 선택) 화면을 보여 줍니다."]

. Next * 를 클릭하여 스토리지 설치 공간을 추가합니다.
+
image:anf-cba-image21.png["이 스크린샷은 스토리지 설치 공간을 추가하는 방법을 보여줍니다."]

. 구성을 검토하고 * 시스템 추가 * 를 클릭합니다.
+
image:anf-cba-image22.png["이 스크린샷은 스토리지 시스템을 추가하는 방법을 보여 줍니다."]

+
image:anf-cba-image23.png["이 스크린샷은 결과를 보여줍니다."]



이제 HANA 시스템이 Cloud Backup for Applications에 추가됩니다. 다음 단계에서는 백업 작업을 구성해야 합니다.

image:anf-cba-image24.png["이 스크린샷은 백업 작업을 구성하는 위치를 보여 줍니다."]

link:anf-cba-create-backup-policies.html["다음: 백업 정책을 생성합니다."]
