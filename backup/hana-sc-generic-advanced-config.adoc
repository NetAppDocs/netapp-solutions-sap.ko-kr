---
sidebar: sidebar 
permalink: backup/hana-sc-generic-advanced-config.html 
keywords: SAP HANA, SnapCenter, backup and recovery, Azure NetApp Files, FSx for NetApp ONTAP 
summary:  
---
= SAP HANA에 대한 고급 SnapCenter 옵션 구성
:allow-uri-read: 


[role="lead"]
게스트 내 NFS 마운트에 대한 VMware 경고 메시지 억제, 자동 로그 백업 정리 비활성화, HANA 데이터베이스 연결에 대한 SSL 암호화 활성화 등 SAP HANA 환경에 대한 고급 SnapCenter 설정을 구성합니다.



== 가상화 환경 및 게스트 내 마운트에 대한 경고 메시지

예를 들어 NFS 게스트 마운트를 사용하여 VMware를 사용하는 경우 SnapCenter SnapCenter VMware 플러그인을 사용해야 한다는 경고 메시지를 표시합니다. 게스트 내 마운트에는 VMWare 플러그인이 필요하지 않으므로 경고 메시지를 무시하고 끌 수 있습니다. 이 경고를 억제하도록 SnapCenter 구성하려면 다음 구성을 적용해야 합니다.

. 설정 탭에서 전역 설정 을 선택합니다.
. 하이퍼바이저 설정의 경우 모든 호스트에 대해 VM에 iSCSI Direct Attached Disks 또는 NFS를 가지고 있음 을 선택하고 설정을 업데이트합니다.


image:hana-sc-generic-image-134.png["너비=601, 높이=176"]



== 자동 로그 백업 관리 기능을 비활성화합니다

로그 백업 하우스키핑은 기본적으로 활성화되어 있으며 HANA 플러그인 호스트 수준에서 비활성화할 수 있습니다. PowerShell 명령을 사용하세요.

명령 Set- SmConfigSettings -Plugin - HostName <pluginhostname> - PluginCode hana - configSettings @{"LOG_CLEANUP_DISABLE" = "Y"}는 이 SAP HANA 호스트에 대한 로그 백업 정리 작업을 비활성화합니다.



== HANA 데이터베이스에 대한 보안 통신 지원

HANA 데이터베이스가 보안 통신으로 구성된 경우 SnapCenter 에서 실행되는 hdbsql 명령은 추가 명령줄 옵션을 사용해야 합니다.

SSL 통신을 구성하는 데에는 다양한 옵션이 있습니다. 기본적으로 SnapCenter -e ssltrustcert hdbsql 명령줄 옵션을 사용합니다. 이 옵션을 사용하면 서버 인증서 검증 없이 SSL 통신이 수행되며, 이 옵션은 SSL이 활성화되지 않은 HANA 시스템에서도 작동합니다.

서버 및/또는 클라이언트 측에서 인증서 검증이 필요한 경우 다른 hdbsql 명령줄 옵션이 필요하며, SAP HANA 보안 가이드에 설명된 대로 PSE 환경을 적절히 구성해야 합니다.

이는 필요한 옵션과 함께 hdbsql을 호출하는 래퍼 스크립트를 사용하여 달성할 수 있습니다. hana.properties 파일에서 hdbsql 실행 파일을 구성하는 대신, 래퍼 스크립트가 추가되었습니다.

....

HANA_HDBSQL_CMD = /usr/sap/SM1/HDB12/exe/hdbsqls
....
래퍼 스크립트 hdbsqls는 필요한 명령줄 옵션과 함께 hdbsql을 호출합니다.

....
#/bin/bash
/usr/sap/SM1/HDB12/exe/hdbsql <command line options> $*
....


== HANA 플러그인 호스트에서 자동 검색을 해제합니다

HANA 플러그인 호스트에서 자동 검색을 비활성화하려면 다음 단계를 완료하세요.

. SnapCenter 서버에서 PowerShell을 엽니다. OpenSmConnection 명령을 실행하여 SnapCenter 서버에 연결하고 로그인 창이 열리면 사용자 이름과 비밀번호를 지정합니다.
. 자동 검색을 비활성화하려면 Set-SmConfigSettings 명령을 실행합니다.


HANA 호스트 hana-2의 경우 명령은 다음과 같습니다.

....

PS C:\Users\administrator.SAPCC> Set-SmConfigSettings -Agent -Hostname hana-2 -configSettings @{"DISABLE_AUTO_DISCOVERY"="true"}

Name Value

---- -----

DISABLE_AUTO_DISCOVERY true

PS C:\Users\administrator.SAPCC>

Verify the configuration by running the Get- SmConfigSettings command.

PS C:\Users\administrator.SAPCC> Get-SmConfigSettings -Agent -Hostname hana-2 -key all

Key: CUSTOMPLUGINS_OPERATION_TIMEOUT_IN_MSEC Value: 3600000 Details: Plug-in API operation Timeout

Key: CUSTOMPLUGINS_HOSTAGENT_TO_SERVER_TIMEOUT_IN_SEC Value: 1800 Details: Web Service API Timeout

Key: CUSTOMPLUGINS_ALLOWED_CMDS Value: *; Details: Allowed Host OS Commands

Key: DISABLE_AUTO_DISCOVERY Value: true Details:

Key: PORT Value: 8145 Details: Port for server communication

PS C:\Users\administrator.SAPCC>

....
구성은 호스트의 에이전트 구성 파일에 기록되며 SnapCenter를 사용한 플러그인 업그레이드 후에도 계속 사용할 수 있습니다.

....

hana-2:/opt/NetApp/snapcenter/scc/etc # cat /opt/NetApp/snapcenter/scc/etc/agent.properties | grep DISCOVERY
DISABLE_AUTO_DISCOVERY = true
hana-2:/opt/NetApp/snapcenter/scc/etc #
....