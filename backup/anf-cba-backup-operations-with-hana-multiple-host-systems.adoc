---
sidebar: sidebar 
permalink: backup/anf-cba-backup-operations-with-hana-multiple-host-systems.html 
keywords: system replication, cba, hsr, multiple host, standby host 
summary: 이 섹션에서는 HANA 시스템 복제를 사용하여 백업 작업을 수행하는 방법을 설명합니다. 
---
= HANA 다중 호스트 시스템을 사용한 백업 작업
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./../media/


link:anf-cba-backup-operations-with-hana-system-replication.html["이전: HANA 시스템 복제를 사용한 백업 작업."]



= HANA 다중 호스트 시스템을 사용한 백업 작업

HANA 데이터베이스는 단일 호스트 시스템과 동일한 방식으로 스냅샷 백업을 실행합니다. 백업 작업 SQL 명령은 시스템 데이터베이스에서 트리거되어야 하며, 각 노드의 모든 데이터 볼륨이 정합성이 보장되도록 모든 HANA 작업자 노드에 대해 HANA 백업 저장점이 생성됩니다. 다음 단계에서는 각 데이터 볼륨에서 스토리지 스냅샷 작업을 수행해야 합니다.



== 대기 호스트가 없는 HANA 다중 호스트 시스템

대기 호스트가 없는 HANA 다중 호스트 시스템은 HANA 단일 호스트 시스템과 비슷한 방식으로 CBA로 구성됩니다.

. HANA 네임 서버와 시스템 데이터베이스가 실행 중인 작업자 노드에 HANA 플러그인을 설치해야 합니다. Indexservers를 실행하는 작업자 노드에는 HANA 플러그인이 필요하지 않습니다.
. HDB 사용자 저장소 키는 HANA 단일 호스트 시스템과 동일한 방식으로 시스템 데이터베이스에 대해 구성됩니다.
. 스토리지 설치 공간을 구성할 때는 HANA 시스템의 모든 데이터 볼륨을 추가해야 합니다.
+
다음 예제에서는 Data1, Data2 및 Data3 볼륨을 추가합니다.

+

NOTE: 각 HANA 호스트의 데이터 볼륨은 대기 호스트 구성과 동일한 방식으로 각 호스트에 마운트되어야 합니다. Cloud Backup for Applications는 백업에 포함된 파일 목록을 생성하므로 HANA 시스템에 속한 모든 볼륨에 액세스할 수 있어야 합니다. ANF 교차 지역 복제 또는 ANF 백업이 활성화된 경우 단일 파일 복원 작업에 파일 목록이 필요합니다.

+
image:anf-cba-image111.png["이 그림에서는 Nameserver/systemDB가 실행되는 작업자 노드에 HANA 플러그인을 설치하는 방법을 보여 줍니다."]





== HANA 다중 호스트 시스템 및 대기 호스트

현재 CBA 버전에서는 대기 호스트가 있는 HANA 다중 호스트 시스템이 지원됩니다. 이 경우 이름 서버를 대기 호스트로 페일오버한 후 장애가 발생한 호스트를 다시 시작한 다음 동일한 OS 구성, 파일 시스템 마운트 및 HANA 플러그인을 사용합니다.

대기 호스트가 있는 HANA 다중 호스트 시스템은 CBA에서 다음 단계로 구성됩니다.

. HANA 이름 서버/시스템 데이터베이스가 실행 중인 작업자 노드에 HANA 플러그인을 설치해야 합니다.
. HDB 사용자 저장소 키는 시스템 데이터베이스(이름 서버 호스트)와 대기 호스트 두 개로 구성됩니다. CBA 키 구성의 host:port 문자열은 세미콜론으로 구분해야 하며 목록은 큰따옴표로 시작하고 끝나야 합니다. 그런 다음 hdbsql 클라이언트는 사용자 저장소 키의 첫 번째 항목으로 시작하여 데이터베이스에 연결을 시도합니다. 항목이 작동하지 않으면 다음 항목이 사용됩니다. 따라서 기본 이름 서버 호스트를 첫 번째 호스트로 구성하고 대기 호스트를 사용자 저장소 키의 두 번째 항목으로 구성하는 것이 중요합니다.
+
image:anf-cba-image112.png["이 스크린샷은 적절한 정보가 채워진 사용자 저장소 추가 화면을 보여 줍니다."]

. HANA 시스템의 모든 데이터 볼륨을 스토리지 설치 공간 구성에 추가해야 합니다.
+
아래 그림에 표시된 예에서는 Data1 및 Data2 볼륨을 추가해야 합니다.

+
image:anf-cba-image113.png["이 그림에서는 Worker Nameserver 및 Standby 에 Data1 및 Data2를 추가하는 방법을 보여 줍니다."]



이름 서버를 대기 호스트로 페일오버하는 경우 장애가 발생한 호스트가 짧은 시간 내에 다시 시작되고 이전과 동일한 구성으로 나타납니다. 이 경우 HANA 플러그인과 hdbsql 및 hdb 사용자 저장소 구성 요소를 사용할 수 있으며 백업 작업에 계속 사용할 수 있습니다.

앞서 설명한 사용자 저장소 구성을 통해 hdbsql 클라이언트는 현재 이름 서버 호스트를 가리키는 두 번째 호스트 항목을 사용하고 백업 작업을 실행합니다.

image:anf-cba-image114.png["이 그림에서는 장애가 발생한 VM이 다시 시작되고 대기 호스트에 장애 조치 후 새 대기 호스트로 작동하는 것을 보여 줍니다."]

link:anf-cba-where-to-find-additional-information-and-version-history.html["다음: 추가 정보 및 버전 기록을 찾을 위치."]
